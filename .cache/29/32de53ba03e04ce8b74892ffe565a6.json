{"id":"index.js","dependencies":[{"name":"/Users/lucascosta/jobs/tray/taitamariki_5.0/package.json","includedInParent":true,"mtime":1578496610234},{"name":"react","loc":{"line":1,"column":18},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/react/index.js"},{"name":"react-dom","loc":{"line":2,"column":21},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/react-dom/index.js"},{"name":"react-redux","loc":{"line":4,"column":25},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/react-redux/es/index.js"},{"name":"./store/configureStore","loc":{"line":5,"column":27},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/store/configureStore.js"},{"name":"axios","loc":{"line":6,"column":18},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/axios/index.js"},{"name":"./config.json","loc":{"line":7,"column":19},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/config.json"},{"name":"./actions/index","loc":{"line":8,"column":30},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/actions/index.js"},{"name":"./components/quickview/index.jsx","loc":{"line":24,"column":22},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx"},{"name":"./components/minicart/index.jsx","loc":{"line":49,"column":21},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/index.js","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/minicart/index.jsx"}],"generated":{"js":"\"use strict\";\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _configureStore = _interopRequireDefault(require(\"./store/configureStore\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _config = _interopRequireDefault(require(\"./config.json\"));\n\nvar _index = require(\"./actions/index\");\n\nvar _index2 = _interopRequireDefault(require(\"./components/quickview/index.jsx\"));\n\nvar _index3 = _interopRequireDefault(require(\"./components/minicart/index.jsx\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar store = (0, _configureStore.default)();\n\nElement.prototype.remove = function () {\n  this.parentElement.removeChild(this);\n};\n\nNodeList.prototype.remove = HTMLCollection.prototype.remove = function () {\n  for (var i = this.length - 1; i >= 0; i--) {\n    if (this[i] && this[i].parentElement) {\n      this[i].parentElement.removeChild(this[i]);\n    }\n  }\n}; // Quickview\n\n\nvar buttons = Array.from(document.querySelectorAll('[data-quickview-button]'));\n\nif (_config.default.quickview.actived) {\n  var rootQuickview = document.querySelector('[data-quickview]'); // Buttons Quickview\n\n  buttons.forEach(function (item) {\n    var id = item.getAttribute('data-id');\n    item.classList.add('button--quickview');\n  });\n\n  if (rootQuickview) {\n    _reactDom.default.render(_react.default.createElement(_reactRedux.Provider, {\n      store: store\n    }, _react.default.createElement(_index2.default, null)), rootQuickview);\n  }\n} else {\n  buttons.forEach(function (item) {\n    return item.remove();\n  });\n} // Minicart\n\n\nif (_config.default.minicart.actived) {\n  var rootMinicart = document.querySelector('[data-minicart]');\n\n  if (rootMinicart) {\n    _reactDom.default.render(_react.default.createElement(_reactRedux.Provider, {\n      store: store\n    }, _react.default.createElement(_index3.default, {\n      id: rootMinicart.getAttribute('data-minicart')\n    })), rootMinicart);\n  }\n} // Listen for the event.\n\n\nwindow.addEventListener('UPDATECART', function (e) {\n  if (_config.default.minicart.actived) {\n    store.dispatch((0, _index.minicartFetch)(document.querySelector('html').getAttribute('data-store')));\n  } else {\n    _axios.default.get('/web_api/cart/' + document.querySelector('html').getAttribute('data-session')).then(function (response) {\n      return response.data;\n    }).then(function (data) {\n      var amount = data.map(function (cart) {\n        return parseInt(cart.Cart.quantity);\n      }).reduce(function (valorAnterior, valorAtual) {\n        return valorAnterior + valorAtual;\n      });\n      var price = data.map(function (cart) {\n        return parseFloat(cart.Cart.price) * parseInt(cart.Cart.quantity);\n      }).reduce(function (valorAnterior, valorAtual) {\n        return valorAnterior + valorAtual;\n      });\n      price = new Intl.NumberFormat('pt-br', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(price);\n      price = price.replace('R$', ''); // Update Amount\n\n      Array.from(document.querySelectorAll('[data-cart=amount]')).forEach(function (item) {\n        return item.innerHTML = amount;\n      });\n      Array.from(document.querySelectorAll('[data-cart=price]')).forEach(function (item) {\n        return item.innerHTML = price;\n      });\n      return null;\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n}, false);"},"sourceMaps":null,"error":null,"hash":"2d56857d5b13b8d23f721fb6fecc98b3","cacheData":{"env":{}}}