{"id":"g6b0","dependencies":[{"name":"/Users/lucascosta/jobs/tray/taitamariki_5.0/package.json","includedInParent":true,"mtime":1578496610234},{"name":"react","loc":{"line":1,"column":33},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/react/index.js"},{"name":"prop-types","loc":{"line":2,"column":22},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/prop-types/index.js"},{"name":"react-redux","loc":{"line":3,"column":24},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/react-redux/es/index.js"},{"name":"axios","loc":{"line":4,"column":18},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/node_modules/axios/index.js"},{"name":"../../actions","loc":{"line":5,"column":77},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/actions/index.js"},{"name":"../images/index.jsx","loc":{"line":6,"column":19},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/images/index.jsx"},{"name":"../prices/index.jsx","loc":{"line":7,"column":19},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/prices/index.jsx"},{"name":"../variants/index.jsx","loc":{"line":8,"column":21},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/variants/index.jsx"},{"name":"../../config.json","loc":{"line":9,"column":19},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/config.json"},{"name":"./css/index.styl","loc":{"line":11,"column":7},"parent":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/index.jsx","resolved":"/Users/lucascosta/jobs/tray/taitamariki_5.0/app/components/quickview/css/index.styl"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=d(require(\"react\")),t=l(require(\"prop-types\")),a=require(\"react-redux\"),i=l(require(\"axios\")),r=require(\"../../actions\"),s=l(require(\"../images/index.jsx\")),n=l(require(\"../prices/index.jsx\")),o=l(require(\"../variants/index.jsx\")),u=l(require(\"../../config.json\"));function l(e){return e&&e.__esModule?e:{default:e}}function c(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function d(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var a={};if(null!=e){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=i?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}}return a.default=e,t&&t.set(e,a),a}function p(e){return(p=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function m(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,a){return t&&m(e.prototype,t),a&&m(e,a),e}function v(e,t){return!t||\"object\"!==p(t)&&\"function\"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}require(\"./css/index.styl\");var k=function(t){function a(e){var t;return f(this,a),(t=v(this,y(a).call(this,e))).state={id:void 0,visible:!1,name:\"\",sku:\"\",description:\"\",hasVariants:!1,availabled:!0,saleable:!1,qtd:1,store:0,hash:0,url:\"\"},t}return _(a,e.Component),h(a,[{key:\"close\",value:function(e){(e.target.classList.contains(\"quickview\")||e.target.classList.contains(\"quickview__button--close\")||e.target.classList.contains(\"quickview__button--continue\"))&&(this.setState({id:void 0,visible:!1,name:\"\",sku:\"\",descriptionSmall:\"\",hasVariants:!1,availabled:!0,saleable:!1,qtd:1,store:0,hash:0,url:\"\"}),this.props.setAttributes(0,0,\"\",[],!0,!1),document.querySelector(\"body\").classList.remove(\"quickview--loaded\"))}},{key:\"init\",value:function(e){var t=this,a=e.getAttribute(\"data-id\");this.setState({id:a}),this.props.resetBuy(),i.default.get(\"/web_api/products/\"+a).then(function(e){return e.data}).then(function(e){var i=parseFloat(e.Product.price),r=parseFloat(e.Product.promotional_price),s=e.Product.payment_option,n=e.Product.ProductImage.map(function(e){return e.https.replace(\"https:\",\"\")}),o=1==parseInt(e.Product.available);e.Product.payment_option_details.length&&(s=\"<span>\"+e.Product.payment_option_details[0].plots+\"x</span> de <span>\"+new Intl.NumberFormat(\"pt-br\",{style:\"currency\",currency:\"BRL\"}).format(e.Product.payment_option_details[0].value)+\"</span>\"),t.setState({id:a,visible:!0,name:e.Product.name,descriptionSmall:e.Product.description_small,sku:e.Product.id,hasVariants:1==parseInt(e.Product.has_variation),store:document.querySelector(\"html\").getAttribute(\"data-store\"),hash:document.querySelector(\"html\").getAttribute(\"data-session\"),url:e.Product.url.http.replace(\"http:\",\"\")}),t.props.setAttributes(i,r,s,n,o,!1),document.querySelector(\"body\").classList.add(\"quickview--loaded\")})}},{key:\"updateInputQtd\",value:function(e){var t=e.target.value;t<1&&(t=1),this.setState({qtd:t}),this.props.resetBuy()}},{key:\"componentWillReceiveProps\",value:function(e){this.props.availabled&&!this.state.hasVariants&&this.props.setSaleable(!0)}},{key:\"componentWillMount\",value:function(){var e=this,t=document.querySelectorAll(\"[data-quickview-button]\");Array.from(t).forEach(function(t){return t.addEventListener(\"click\",function(t){return e.init(t.currentTarget)})}),this.props.availabled&&!this.state.hasVariants&&this.props.setSaleable(!0)}},{key:\"buy\",value:function(e){var t={session_id:this.state.hash,product_id:this.state.id,quantity:this.state.qtd,variant_id:0};this.state.hasVariants&&this.props.skuSelected&&this.state.qtd&&(t.variant_id=this.props.skuSelected.id),this.props.addCart([t])}},{key:\"more\",value:function(){var e=this.state.qtd;this.setState({qtd:++e})}},{key:\"less\",value:function(){var e=this.state.qtd;e-1>0&&e--,this.setState({qtd:e})}},{key:\"render\",value:function(){var t,a=this;return this.state.hasVariants&&(t=e.default.createElement(o.default,{id:this.state.id,price:this.props.price,offer:this.props.offer,payment:this.props.payment,images:this.props.images,availabled:this.props.availabled,saleable:this.props.saleable,type:u.default.quickview.variants})),this.state.visible?e.default.createElement(\"section\",{onClick:function(e){a.close(e)},\"aria-hidden\":!this.state.visible,className:\"quickview\",id:\"quickview\"},this.props.isFinish||e.default.createElement(\"div\",{className:\"quickview__container\"},e.default.createElement(\"button\",{onClick:function(e){a.close(e)},className:\"quickview__button quickview__button--close\"},e.default.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"298 388 16 16\"},\" \",e.default.createElement(\"path\",{d:\"M307.416,395.993l1.414-1.414c0.196-0.196,0.196-0.512,0-0.707l-0.707-0.707 c-0.195-0.195-0.511-0.196-0.707,0l-1.414,1.414l-1.414-1.413c-0.196-0.196-0.512-0.196-0.708-0.001l-0.707,0.707 c-0.195,0.195-0.195,0.512,0.001,0.708l1.414,1.414l-1.411,1.411c-0.195,0.195-0.195,0.512,0,0.707l0.707,0.707 c0.196,0.195,0.512,0.196,0.707,0l1.411-1.41l1.421,1.421c0.196,0.196,0.513,0.196,0.708,0.001l0.707-0.707 c0.195-0.195,0.195-0.513,0-0.708L307.416,395.993z M306,388c-4.418,0-8,3.582-8,8s3.582,8,8,8c4.419,0,8-3.582,8-8 C314,391.582,310.419,388,306,388z M306,402.499c-3.59,0-6.5-2.91-6.5-6.5c0-3.59,2.91-6.5,6.5-6.5s6.5,2.91,6.5,6.5 C312.5,399.589,309.59,402.499,306,402.499z\"}),\" \")),e.default.createElement(s.default,{images:this.props.images}),e.default.createElement(\"div\",{className:\"quickview__main\"},e.default.createElement(\"h1\",{className:\"quckview__name\"},this.state.name),e.default.createElement(\"h2\",{className:\"quickivew__sku\"},\"Código: \",this.state.sku),!this.props.availabled||e.default.createElement(n.default,{price:this.props.price,offer:this.props.offer,payment:this.props.payment}),t,!this.props.availabled||e.default.createElement(\"div\",{className:\"quickview__actions\"},e.default.createElement(\"div\",{className:\"quickview__quantity\"},e.default.createElement(\"button\",{onClick:this.less.bind(this),type:\"button\",className:\"qtds__button qtds__button--less\"},\"-\"),e.default.createElement(\"input\",{disabled:!this.props.saleable,type:\"number\",className:\"quickview__qtd\",value:this.state.qtd,onChange:function(e){a.updateInputQtd(e)}}),e.default.createElement(\"button\",{onClick:this.more.bind(this),type:\"button\",className:\"qtds__button qtds__button--more\"},\"+\")),e.default.createElement(\"button\",{disabled:!this.props.saleable,className:\"quickview__button--addcart\",onClick:function(e){a.buy(e)}},\"Comprar\"),e.default.createElement(\"a\",{href:this.state.url,className:\"quickview__link quickview__link--more\"},\"Ver mais detalhes\")),!this.props.isError.error||e.default.createElement(\"div\",{className:\"quickview__error\"},this.props.isError.msg),this.props.availabled||e.default.createElement(\"div\",{className:\"quickview__unavailable\"},\"No momento este produto está indisponível.\"))),!this.props.isFinish||e.default.createElement(\"div\",{className:\"quickview__container quickview__finish\"},e.default.createElement(\"button\",{onClick:function(e){a.close(e)},className:\"quickview__button quickview__button--close\"},e.default.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 100 100\"},e.default.createElement(\"title\",null,\"close\"),e.default.createElement(\"g\",{id:\"Camada_2\",\"data-name\":\"Camada 2\"},e.default.createElement(\"g\",{id:\"Layer_1\",\"data-name\":\"Layer 1\"},e.default.createElement(\"path\",{d:\"M75.19,50,98.68,26.51a4.51,4.51,0,0,0,0-6.38L79.87,1.32a4.51,4.51,0,0,0-6.38,0L50,24.81,26.51,1.32a4.51,4.51,0,0,0-6.38,0L1.32,20.13a4.51,4.51,0,0,0,0,6.38L24.81,50,1.32,73.49a4.51,4.51,0,0,0,0,6.38L20.13,98.68a4.51,4.51,0,0,0,6.38,0L50,75.19,73.49,98.68a4.51,4.51,0,0,0,6.38,0L98.68,79.87a4.51,4.51,0,0,0,0-6.38Z\"}))))),e.default.createElement(\"div\",{className:\"quckview__actions\"},e.default.createElement(\"button\",{onClick:function(e){a.close(e)},className:\"quickview__button quickview__button--continue\",type:\"button\"},\"Continuar Comprando\"),e.default.createElement(\"a\",{className:\"quickview__button quickview__button--finish\",href:\"/loja/carrinho.php?loja=\"+this.state.store+\"&transID=\"+this.state.hash+\"&hash=\"+this.state.hash},\"Finalizar Compra\")))):e.default.createElement(\"div\",{\"aria-hidden\":!this.state.visible,className:\"quickview\",id:\"quickview\",style:{display:\"none\"}})}}]),a}();k.propTypes={price:t.default.number.isRequired,offer:t.default.number.isRequired,payment:t.default.string.isRequired,images:t.default.array.isRequired,availabled:t.default.bool.isRequired,saleable:t.default.bool.isRequired,skuSelected:t.default.object,isBuy:t.default.bool.isRequired,isFinish:t.default.bool.isRequired,isError:t.default.object.isRequired};var w=function(e){return{price:e.quickviewPrice,offer:e.quickviewOffer,payment:e.quickviewPayment,images:e.quickviewImages,availabled:e.quickviewAvailabled,saleable:e.quickviewSaleable,skuSelected:e.quickviewSkuSelected,isBuy:e.isBuy,isFinish:e.buyFinish,isError:e.buyError}},g=function(e){return{setAttributes:function(t,a,i,s,n,o){return e((0,r.quickviewAttributes)(t,a,i,s,n,o))},addCart:function(t){return e((0,r.addCart)(t))},resetBuy:function(){return e((0,r.resetBuy)())},setSaleable:function(t){return e((0,r.setQuickviewSaleable)(t))}}},E=(0,a.connect)(w,g)(k);exports.default=E;"},"sourceMaps":null,"error":null,"hash":"916a24e07fb3f121be0ce2cf1ff28e54","cacheData":{"env":{}}}